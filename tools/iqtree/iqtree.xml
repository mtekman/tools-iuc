<tool id="iqtree_1" name="IQtree" version="0.3" >

  <description>Efficient phylogenomic software by maximum likelihood</description>

  <macros>
    <import>iqtree.macros.xml</import>
  </macros>

  <requirements>
    <requirement type="package" version="1.5.5">iqtree</requirement>
  </requirements> 

  <!-- <expand macro="command" /> -->
  <!-- <expand macro="command_weak" /> -->
  <expand macro="command_weak2" />
  
  <expand macro="inputs" />
  
  <outputs>
    <data name='bionj' format='txt' />
    <data name='ckp.gz' format='txt' />
    <data name='log' format='txt' />
    <data name='iqtree' format='txt' />
    <data name='mldist' format='txt' />
    <data name='treefile' format='txt' />
    <data name='model' format='txt' />    
  </outputs>

  <tests>
    <test>
      <param name='s' value='example.phy' />
      
      <output name='bionj' file='PREF.bionj' ftype="txt" lines_diff="1" >
	<!-- <assert_contents> -->
	<!--   <has_text text=".*Human.*Whale.*" /> -->
	<!-- </assert_contents> -->
      </output>
      
      <output name='ckp.gz' file='PREF.ckp.gz' ftype="txt"/>
      <output name='log' file='PREF.log' ftype="txt" >
	<assert_contents>
	  <has_text text="Alignment has 17 sequences with 1998 columns and 1152 patterns" />
	</assert_contents>
      </output>
      <output name='iqtree' file='PREF.iqtree' ftype="txt"/>
      <output name='mldist' file='PREF.mldist' ftype="txt"/>
      <output name='treefile' file='PREF.treefile' ftype="txt"/>
      <output name='model' file='PREF.model' ftype="txt"/>
    </test>
  </tests>

  <help>
More information can be found here: http://www.iqtree.org/doc/
  </help>

  <citations>
    <citation type="doi">10.1093/molbev/msu300</citation>
    <citation type="doi">10.1093/molbev/mst024</citation>
  </citations>
    
</tool>
